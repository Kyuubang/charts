{{- $cronJobCount := len .Values.cronjobs }}
{{- $suspendedJobs := 0 }}
{{- range .Values.cronjobs }}
  {{- if .suspend }}
    {{- $suspendedJobs = add $suspendedJobs 1 }}
  {{- end }}
{{- end }}

ğŸ‰ Multi-Scheduler has been installed successfully!

ğŸ“Š Installation Summary:
   âœ… Total CronJobs created: {{ $cronJobCount }}
   {{- if gt $suspendedJobs 0 }}
   â¸ï¸  Suspended CronJobs: {{ $suspendedJobs }}
   â–¶ï¸  Active CronJobs: {{ sub $cronJobCount $suspendedJobs }}
   {{- else }}
   â–¶ï¸  All CronJobs are active
   {{- end }}
   ğŸ³ Container Image: {{ .Values.image }}

ğŸ“‹ CronJobs Created:
{{- range .Values.cronjobs }}
   â€¢ {{ .name }}
     Schedule: {{ .schedule }}
     Timezone: {{ .timezone | default "UTC" }}
     {{- if .suspend }}
     Status: â¸ï¸  SUSPENDED
     {{- else }}
     Status: â–¶ï¸  ACTIVE
     {{- end }}
{{- end }}

ğŸ” How to monitor your CronJobs:

   # View all CronJobs
   kubectl get cronjobs

   # Check CronJob details
   kubectl describe cronjob <cronjob-name>

   # View recent jobs
   kubectl get jobs --sort-by=.metadata.creationTimestamp

   # Check logs from latest job execution
   kubectl logs -l app=<cronjob-name> --tail=100

ğŸ“… Schedule Examples:
   â€¢ "0 2 * * *"     - Daily at 2:00 AM
   â€¢ "*/15 * * * *"  - Every 15 minutes
   â€¢ "0 3 * * 0"     - Weekly on Sunday at 3:00 AM
   â€¢ "0 */6 * * *"   - Every 6 hours

âš™ï¸ Management Commands:

   # Suspend a CronJob
   kubectl patch cronjob <cronjob-name> -p '{"spec":{"suspend":true}}'

   # Resume a CronJob
   kubectl patch cronjob <cronjob-name> -p '{"spec":{"suspend":false}}'

   # Manually trigger a job
   kubectl create job --from=cronjob/<cronjob-name> <job-name>

ğŸ“š Documentation:
   For more information, see the README.md and INSTALL.md files in the chart directory.

{{- if .Values.imagePullSecrets }}

ğŸ” Using Image Pull Secrets:
{{- range .Values.imagePullSecrets }}
   â€¢ {{ .name }}
{{- end }}
{{- end }}

{{- if gt $suspendedJobs 0 }}

âš ï¸  Note: {{ $suspendedJobs }} CronJob(s) are currently suspended. To activate them:
{{- range .Values.cronjobs }}
  {{- if .suspend }}
   kubectl patch cronjob {{ .name }} -p '{"spec":{"suspend":false}}'
  {{- end }}
{{- end }}
{{- end }}

Thank you for using Multi-Scheduler! ğŸš€
